<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Asset Price List</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>

<h2>Asset Price List</h2>

<div id="price-list">
    Loading price list...
</div>

<script>
$(document).ready(function() {
    fetchPriceList();
});

function fetchPriceList() {
    $.ajax({
        url: 'https://dev-api.ainsliebullion.com.au/assets/pricelist',
        type: 'GET',
        xhrFields: {
            withCredentials: true
        },
        crossDomain: true,
        contentType: 'application/json',
        success: function(data) {
            displayPriceList(data);
        },
        error: function(xhr, status, error) {
            console.error('Error:', error);
            $('#price-list').html('<p>Error loading price list.</p>');
        }
    });
}

function displayPriceList(data) {
    let html = '<ul>';
    if (data && Array.isArray(data.data)) {
        data.data.forEach(item => {
            html += `<li>${item.asset}: $${item.price}</li>`;
        });
    } else {
        html += '<li>No data found</li>';
    }
    html += '</ul>';
    $('#price-list').html(html);
}
</script>

</body>
</html>
